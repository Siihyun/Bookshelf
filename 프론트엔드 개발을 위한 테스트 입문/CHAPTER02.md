# 테스트 방법과 테스트 전략

### 테스트의 종류

- 정적분석(린트 및 TS)
- 단위 테스트
- 통합 테스트
- E2E 테스트

테스트 타입은 검증 목적에 맞게 설정해야하며, 테스트 타입마다 적절한 테스트 도구가 있다.

### 테스트의 목적

- 기능 테스트(인터렉션 테스트)
  - 폼이나 버튼 등 가장 일반적인 테스트
- 비기능 테스트
  - 접근성 테스트 등
- 시각적 회귀 테스트
  헤드리스 브라우저에 그려진 내용을 캡쳐하여 캡쳐된 이미지 간 차이를 검증

### 테스트 전략 모델

- 아이스크림 콘

  - 상층부 테스트의 비중이 높은 테스트 방식. E2E > 통합 > 단위 테스트 순
  - 대부분 운용 비율이 높음

- 테스트 피라미드
  - 하층부 테스트 비중이 높은 테스트 방식. 단위 > 통합 > E2E 테스트 순
- 테스팅 트로피 모델
  - 통합 > 단위, E2E. 즉 통합 테스트가 높은 테스팅 방식

---

이번장에서는 단위 테스트부터 E2E 테스트까지, 테스트의 종류와 테스팅 방법론에 대해 주로 다뤘습니다.

통상적으로 E2E 테스트는 API 목킹까지 해야하는 경우가 많아 작성 & 운영 비용이 많이 들고 깨지기 쉽습니다.

반면 단위 테스트는 비교적 작은 범위의 테스트이기 때문에 변경 비용이 크지 않고 잘 깨지지 않습니다.

그렇다면 E2E 테스트 대신 단위 테스트를 많이 작성하는게 좋을까요? 테스트의 비중을 얼만큼 가져갈지는 프로젝트의 도메인과 비즈니스 상황에 따라 유연하게 결정되어야 한다고 생각해요ㅎㅎ

예를 들어, 유저의 수익률 계산 같이 수치의 정확도가 많이 요구되는 경우 단위테스트를 빡빡하게 짜서 정확도와 엣지 케이스를 검증하는게 유용할 것 같구요.

잘 수정되지 않는 비즈니스 페이지라던가, 코드로는 알기 힘든 다양한 어플리케이션(웹뷰라고 하면 클라이언트라던지)과의 상호작용이 많은 프로젝트의 경우 테스트 코드를 통해 필요한 맥락을 전달하는것이 더 의미 있다고 생각했어요. 이런 경우 E2E 테스트가 훨씬 맥락에 맞는 방법인 것 같아요. 혹은 결제 페이지 같이 유저의 전체 결제 플로우를 검증하는게 중요한 상황에서도요.

일을 하며 다양한 테스트 코드를 작성하게 될텐데, 어떤 경우에 어떤 테스트 코드를 작성해야할지 고민해볼 수 있는 좋은 기회였습니다! 감사합니다!
